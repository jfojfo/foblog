{% extends theme.base %}

{% block title %} Configuration - {{ config.plog_title }} {% endblock %}

{% block scripts %}
<script type="text/javascript">
<!--
//function ReGeneratePassword(){
//	$.get('{{ settings.app_root }}/admin/regeneratepassword', {rnd : Math.random().toString()}, function(data){
//		$('#password').val(data);
//	});
function ReGeneratePassword(){
	$.get('{{ settings.app_root }}/admin/regeneratepassword', {passwd : $('#password').val()}, function(data){
		$('#password').val(data);
                alert("Password saved");
	});
}
//-->
</script>
{% endblock %}

{% block content %}
<form method="post" class="config">
<table>
{{ config_form }}
<tr>
<th>&nbsp;</th>
<td>
	<input type="submit" value="Update Settings" />
</td>
</tr>
<tr>
<th>API Password</th>
<td>
	<input type="button" value="Regenerate" onclick="ReGeneratePassword();" />
        <input type="text" id="password" value="{{ password }}"/>
</td>
</tr>
</table>
</form>
{% endblock %}
